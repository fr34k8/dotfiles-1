#!/bin/sh

cd ~/wave

vagrant up

cd src

tmux new-session -d -s wave

tmux rename-window -t wave:0 "shell"
tmux split-window -t wave:shell -h "cd ~/wave/src/next-wave; clear; /usr/bin/env zsh"

tmux new-window -a -t wave:shell -n edit "nvim; /usr/bin/env zsh"

tmux new-window -a -t wave:edit -n next_api "cd ~/wave/src/next-wave; yarn run dev; /usr/bin/env zsh"
tmux split-window -t wave:next_api -h "waverun api"
tmux new-window -a -t wave:next_api -n id_acc "waverun identity"
tmux split-window -t wave:id_acc -h "waverun accounting"

# tmux select-window -t wave:3
tmux attach-session -d -t wave
